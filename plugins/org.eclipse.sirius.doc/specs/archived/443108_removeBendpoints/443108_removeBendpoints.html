<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="Addanactionthatremovestheedgebendpoints">Add an action that removes the edge bend points</h1><h2 id="Preamble">Preamble</h2><p><em>Summary</em>: Add an action that allows the end user to remove all bend points between the two edge ends.</p><table><tr><th>Version </th><th>Status </th><th>Date        </th><th>Authors </th><th>Changes </th></tr><tr><td>v0.1        </td><td>DRAFT    </td><td>2014-09-02 </td><td>fbarbin    </td><td>Initial version. </td></tr><tr><td>v0.2        </td><td>PROPOSAL    </td><td>2014-09-11 </td><td>fbarbin    </td><td>Update after team review. </td></tr></table><p><em>Relevant tickets</em>:</p><ul><li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=443108">443108 &#8211; Add an action that removes the edge bend points</a></li></ul><h2 id="Introduction">Introduction</h2><p>The end user may have created different &#8220;bend points&#8221; (or inflection points) on an edge and may want to return this edge to &#8220;straight&#8221; again. This enhancement aims to add an action that will remove all bend points (of a specific edge) between the source and the target connection points.</p><h2 id="DetailedSpecification">Detailed Specification</h2><ul><li>This action will concern only &#8220;Straight&#8221; edges. That means it won&#8217;t be available for edges with a &#8220;Rectilinear&#8221; or a &#8220;Tree&#8221; router.</li><li>An action executable by the end user will be added in the edge right-click context menu. This action will also be available with the &#8220;Ctrl&#8221; + &#8220;Shift&#8221; + &#8220;-&#8221; shortcut.</li></ul><p>There are two strategies when deleting bend points: </p><ul><li>One that consists in drawing a straight edge between the source anchor and the target anchor. With this solution we retrieve the edge state before creating the bend-points (that the solution we suggest). This is also the default behavior when the user removes bend-points one by one.</li><li>An other option which is drawing the edge between the two edge ends (the connection points). </li></ul><p>The result between these two strategies can be different in the case where the end user has moved an edge anchor after it has been created.</p><p>First example where there is no differences between these two cases:</p><p>The user has drawn this edge:<br/><img border="0" src="images/picture1.png"/></p><p>He next creates several bend points:<br/><img border="0" src="images/picture2.png"/><br/>(Remark that edge connection points did not move during the bend points creation. Indeed, at the edge creation time, the source and target anchors are located at the same position than the connection points)</p><p>Having executed the action, the result for both solutions will be the following one:<br/><img border="0" src="images/picture3.png"/></p><p>Second example with modified edge anchors (the cross cursors materialized where the user moved the edge anchors):<br/><img border="0" src="images/picture4.png"/></p><p>The user creates three bend-points:<br/><img border="0" src="images/picture5.png"/><br/>Note that the edge source and target connection points have moved: the last edge segment follows the edge anchor.<br/>By applying the first solution, the edge retrieves it&#8217;s original location between the two anchors. The result is this one:<br/><img border="0" src="images/picture6.png"/></p><p>With the second solution, the result will be as following:<br/><img border="0" src="images/picture7.png"/></p><h2 id="BackwardCompatibilityandMigrationPaths">Backward Compatibility and Migration Paths</h2><p>This evolution does not change any API.</p><h3 id="UserInterfaceChanges">User Interface Changes</h3><p>No user interface change.</p><h3 id="DocumentationChanges">Documentation Changes</h3><p>This new feature should be added in the New and Noteworthy documentation. <br/>A note should also be added in the user doc to explain this new feature.</p><h2 id="TestsandNonregressionstrategy">Tests and Non-regression strategy</h2><p>Add SWTBot tests that check that:</p><ul><li>By selecting an edge with bend-points, the action works correctly with the shortcut and the context menu.</li><li>Test that the action has no effect on the other routing style.</li></ul><h2 id="Implementationchoicesandtradeoffs">Implementation choices and tradeoffs</h2><p>This action will be available for multiple selections since it can be applied on edges separately.</p></body></html>