<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="Increasesizeofanodewithoutmodifyinglocationofitschildren">Increase size of a node without modifying location of its children</h1><h2 id="Preamble">Preamble</h2><p><em>Summary</em>: Resize a node to the left, upwards, or both, without modifying the location of its children.</p><table><tr><th>Version </th><th>Status </th><th>Date        </th><th>Authors </th><th>Changes </th></tr><tr><td>v0.1        </td><td>DRAFT    </td><td>2014-08-05 </td><td>lredor    </td><td>Initial version. </td></tr><tr><td>v1.0        </td><td>PROPOSAL </td><td>2014-08-14 </td><td>lredor    </td><td>Fix typo. </td></tr><tr><td>v1.1        </td><td>PROPOSAL </td><td>2014-08-14 </td><td>lredor    </td><td>Consider <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=441090#c6">comment 6 of bugzilla</a>. </td></tr><tr><td>v1.2        </td><td>PROPOSAL </td><td>2014-08-14 </td><td>lredor    </td><td>Consider <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=441090#c6">comment 5 of bugzilla</a>. </td></tr><tr><td>v1.3        </td><td>PROPOSAL </td><td>2014-08-20 </td><td>lredor    </td><td>Replace shortcut. </td></tr></table><p><em>Relevant tickets</em>:</p><ul><li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=441090">441090, Increase size of a node without modifying location of its children</a></li></ul><h2 id="Introduction">Introduction</h2><p>The goal of this feature is to be able to resize a node to the left, upwards, or both, without modifying the location of its children (elements inside a container and border nodes).<br/><img border="0" src="images/containerResize.gif"/><br/>Currently, as you can see above, with the old behavior, the location of the children are relative to the container.<br/>With the new behavior, the children remain at the same location.</p><h2 id="DetailedSpecification">Detailed Specification</h2><p>The old behavior, the current one, will remain available with a specific shortcut. Shift, Ctrl and Alt is already used by other GMF behaviors during resize. So we must use function key as shortcut. The chosen function is <strong>F3</strong> (not used by other functions on diagram as F5 for refresh for example).</p><p>For information the other shortcuts used by GMF are:</p><ul><li>Control key: Centered resize</li><li>Shift key: Resize that keeps ratio</li><li>Alt key: Resize that disables the snap</li></ul><p>The possible contained elements are:</p><ul><li>Another container (list or not)</li><li>A child node</li><li>A border node. In this case, the border node can move, but only to stay on the same side.</li></ul><h2 id="BackwardCompatibilityandMigrationPaths">Backward Compatibility and Migration Paths</h2><p>This evolution does not change any API.</p><h3 id="UserInterfaceChanges">User Interface Changes</h3><p>No user interface change.</p><h3 id="DocumentationChanges">Documentation Changes</h3><p>This new behavior should be added in the New and Noteworthy documentation. <br/>A note should also be added in the user doc to explain the shortcut for the current behavior (and possibly for the existing resize shortcuts).</p><h2 id="TestsandNonregressionstrategy">Tests and Non-regression strategy</h2><p>Add new tests that resize container with at least one border node and one child node, with the shortcut and without the shortcut.<br/>Sample of tests that resize elements:</p><ul><li>org.eclipse.sirius.tests.swtbot.sequence.InteractionUseResizeTests</li><li>org.eclipse.sirius.tests.swtbot.PortPositionStabilityTest</li></ul><h2 id="Implementationchoicesandtradeoffs">Implementation choices and tradeoffs</h2><p>It would actually be a good idea to make the new behavior the default one. Another choice would be to enable the new behavior with the shortcut.</p><p>Excluded shortcuts:</p><ul><li>The shortcut is not only a character key because this can be in conflict with the direct edit mode (if enabled).</li><li>The combination with ALT key is already used to activate menu.</li><li>The combination with SHIFT key is already used for uppercase key of direct edit mode.</li><li>The combination with CTRL key can conflict with action shortcuts. For example, &#171;CTRL+r&#187; conflicts with the reveal all action.</li></ul></body></html>